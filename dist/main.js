!function(e){var n={};function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)t.d(r,a,function(n){return e[n]}.bind(null,a));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=4)}([function(e,n,t){"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=function(e,n){var t=e[1]||"",r=e[3];if(!r)return t;if(n&&"function"==typeof btoa){var a=(i=r,c=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),A="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),"/*# ".concat(A," */")),o=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[t].concat(o).concat([a]).join("\n")}var i,c,A;return[t].join("\n")}(n,e);return n[2]?"@media ".concat(n[2]," {").concat(t,"}"):t})).join("")},n.i=function(e,t,r){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(r)for(var o=0;o<this.length;o++){var i=this[o][0];null!=i&&(a[i]=!0)}for(var c=0;c<e.length;c++){var A=[].concat(e[c]);r&&a[A[0]]||(t&&(A[2]?A[2]="".concat(t," and ").concat(A[2]):A[2]=t),n.push(A))}},n}},function(e,n,t){var r=t(2),a=t(3);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};r(a,o);e.exports=a.locals||{}},function(e,n,t){"use strict";var r,a=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var e={};return function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[n]=t}return e[n]}}(),i=[];function c(e){for(var n=-1,t=0;t<i.length;t++)if(i[t].identifier===e){n=t;break}return n}function A(e,n){for(var t={},r=[],a=0;a<e.length;a++){var o=e[a],A=n.base?o[0]+n.base:o[0],l=t[A]||0,s="".concat(A," ").concat(l);t[A]=l+1;var u=c(s),d={css:o[1],media:o[2],sourceMap:o[3]};-1!==u?(i[u].references++,i[u].updater(d)):i.push({identifier:s,updater:g(d,n),references:1}),r.push(s)}return r}function l(e){var n=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var a=t.nc;a&&(r.nonce=a)}if(Object.keys(r).forEach((function(e){n.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(n);else{var i=o(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}return n}var s,u=(s=[],function(e,n){return s[e]=n,s.filter(Boolean).join("\n")});function d(e,n,t,r){var a=t?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=u(n,a);else{var o=document.createTextNode(a),i=e.childNodes;i[n]&&e.removeChild(i[n]),i.length?e.insertBefore(o,i[n]):e.appendChild(o)}}function f(e,n,t){var r=t.css,a=t.media,o=t.sourceMap;if(a?e.setAttribute("media",a):e.removeAttribute("media"),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p=null,m=0;function g(e,n){var t,r,a;if(n.singleton){var o=m++;t=p||(p=l(n)),r=d.bind(null,t,o,!1),a=d.bind(null,t,o,!0)}else t=l(n),r=f.bind(null,t,n),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return r(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;r(e=n)}else a()}}e.exports=function(e,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=a());var t=A(e=e||[],n);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<t.length;r++){var a=c(t[r]);i[a].references--}for(var o=A(e,n),l=0;l<t.length;l++){var s=c(t[l]);0===i[s].references&&(i[s].updater(),i.splice(s,1))}t=o}}}},function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r)()(!0);a.push([e.i,"@import url(https://fonts.googleapis.com/css2?family=Black+Han+Sans&display=swap);"]),a.push([e.i,"/* http://meyerweb.com/eric/tools/css/reset/\n   v2.0 | 20110126\n   License: none (public domain)\n*/\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed,\nfigure, figcaption, footer, header, hgroup,\nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline; }\n\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure,\nfooter, header, hgroup, menu, nav, section {\n  display: block; }\n\nbody {\n  line-height: 1; }\n\nol, ul {\n  list-style: none; }\n\nblockquote, q {\n  quotes: none; }\n\nblockquote:before, blockquote:after,\nq:before, q:after {\n  content: '';\n  content: none; }\n\ntable {\n  border-collapse: collapse;\n  border-spacing: 0; }\n\nbody {\n  background-color: burlywood;\n  font-family: 'Black Han Sans', sans-serif; }\n\n.wrapper {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100vh; }\n  .wrapper .header {\n    padding: 1.5rem 0; }\n    .wrapper .header .logo {\n      font-size: 4rem;\n      text-align: center;\n      color: #7a5c33; }\n\n.main-page .role-box {\n  background-color: #e7d6bf;\n  width: 500px;\n  padding: 2rem 0;\n  text-align: center;\n  line-height: 1.5; }\n.main-page .btn-box {\n  margin-top: 5rem;\n  display: flex;\n  justify-content: center; }\n.main-page .start-btn {\n  cursor: pointer;\n  width: 300px;\n  height: 50px;\n  background-color: #b89666;\n  color: #fff;\n  border: none;\n  font-size: 1.3rem;\n  outline: none; }\n  .main-page .start-btn:active, .main-page .start-btn:focus {\n    background-color: #7a5c33; }\n.main-page .name-box {\n  margin-top: 1rem;\n  display: flex;\n  justify-content: space-between; }\n.main-page .player-name {\n  border: 0;\n  background-color: #e7d6bf;\n  padding: 0.8rem 1rem;\n  width: 40%;\n  outline: none; }\n\n.footer {\n  font-family: sans-serif;\n  position: fixed;\n  bottom: 10px;\n  left: 0;\n  right: 0;\n  text-align: center; }\n\n.game-page {\n  display: none; }\n  .game-page .game-board-container {\n    display: flex; }\n    .game-page .game-board-container .game-board-name {\n      text-align: center; }\n    .game-page .game-board-container .board {\n      width: 400px;\n      height: 400px;\n      background-color: #7a5c33;\n      margin: 10px; }\n      .game-page .game-board-container .board tr,\n      .game-page .game-board-container .board td {\n        border: 1px solid #e7d6bf; }\n      .game-page .game-board-container .board td {\n        font-size: 1.5rem;\n        text-align: center;\n        cursor: pointer;\n        line-height: 79px;\n        width: 20%; }\n        .game-page .game-board-container .board td.active {\n          background-color: #4c3315; }\n  .game-page .game-history-container {\n    background-color: #b89666;\n    padding: 10px;\n    margin-top: 1.5rem; }\n    .game-page .game-history-container h3 {\n      margin-bottom: 1rem; }\n    .game-page .game-history-container span {\n      padding-right: 0.5rem; }\n  .game-page .btn-box {\n    margin-top: 1rem;\n    margin-bottom: 2rem;\n    display: flex;\n    justify-content: center; }\n  .game-page .start-btn {\n    cursor: pointer;\n    width: 300px;\n    height: 50px;\n    background-color: #b89666;\n    color: #fff;\n    border: none;\n    font-size: 1.3rem;\n    outline: none; }\n    .game-page .start-btn:active, .game-page .start-btn:focus {\n      background-color: #7a5c33; }\n\n/*# sourceMappingURL=styles.css.map */\n","",{version:3,sources:["webpack://src/scss/reset.scss","webpack://src/scss/styles.css","webpack://src/scss/styles.scss"],names:[],mappings:"AAAA;;;CCIC;ADCD;;;;;;;;;;;;;EAaE,SAAS;EACT,UAAU;EACV,SAAS;EACT,eAAe;EACf,aAAa;EACb,wBAAwB,EAAA;;AAE1B,gDAAA;AACA;;EAEE,cAAc,EAAA;;AAEhB;EACE,cAAc,EAAA;;AAEhB;EACE,gBAAgB,EAAA;;AAElB;EACE,YAAY,EAAA;;AAEd;;EAEE,WAAW;EACX,aAAa,EAAA;;AAEf;EACE,yBAAyB;EACzB,iBAAiB,EAAA;;AE3CnB;EACE,2BAA2B;EAC3B,yCAAyC,EAAA;;AAG3C;EACE,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,WAAW;EACX,aAAa,EAAA;EAEb;IACE,iBAAiB,EAAA;IAEjB;MACE,eAAe;MACf,kBAAkB;MAClB,cAAc,EAAA;;AAMlB;EACE,yBAAyB;EACzB,YAAY;EACZ,eAAe;EACf,kBAAkB;EAClB,gBAAgB,EAAA;AAGlB;EACE,gBAAgB;EAChB,aAAa;EACb,uBAAuB,EAAA;AAGzB;EACE,eAAe;EACf,YAAY;EACZ,YAAY;EACZ,yBAAyB;EACzB,WAAW;EACX,YAAY;EACZ,iBAAiB;EACjB,aAAa,EAAA;EAEb;IAEE,yBAAyB,EAAA;AAI7B;EACE,gBAAgB;EAChB,aAAa;EACb,8BAA8B,EAAA;AAEhC;EACE,SAAS;EACT,yBAAyB;EACzB,oBAAoB;EACpB,UAAU;EACV,aAAa,EAAA;;AAIjB;EACE,uBAAuB;EACvB,eAAe;EACf,YAAW;EACX,OAAO;EACP,QAAQ;EACR,kBAAkB,EAAA;;AAGpB;EACE,aAAa,EAAA;EACb;IACE,aAAa,EAAA;IAEb;MACE,kBAAkB,EAAA;IAGpB;MACE,YAAY;MACZ,aAAa;MACb,yBAAyB;MACzB,YAAY,EAAA;MACZ;;QAEE,yBAAyB,EAAA;MAG3B;QACE,iBAAiB;QACjB,kBAAkB;QAClB,eAAe;QACf,iBAAiB;QACjB,UAAU,EAAA;QAEV;UACE,yBAAyB,EAAA;EAQjC;IACE,yBAAyB;IACzB,aAAa;IACb,kBAAkB,EAAA;IAElB;MACE,mBAAkB,EAAA;IAGpB;MACE,qBAAqB,EAAA;EAIzB;IACE,gBAAgB;IAChB,mBAAmB;IACnB,aAAa;IACb,uBAAuB,EAAA;EAGzB;IACE,eAAe;IACf,YAAY;IACZ,YAAY;IACZ,yBAAyB;IACzB,WAAW;IACX,YAAY;IACZ,iBAAiB;IACjB,aAAa,EAAA;IAEb;MAEE,yBAAyB,EAAA;;ADI/B,qCAAqC",sourceRoot:""}]),n.default=a},function(e,n,t){"use strict";function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.r(n);var a=function(){function e(n,t){var r=t.row,a=void 0===r?5:r,o=t.cell,i=void 0===o?5:o,c=t.name,A=void 0===c?"":c;if(function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.board=this.createBoard(a,i),this.score=0,this.name=A,this.result={row:new Array(5).fill(0),cell:new Array(5).fill(0),left:0,right:0},null===document.getElementById(n))throw Error("".concat(n,"를 찾을 수 없습니다"));this.containerEl=document.getElementById(n)}var n,t,a;return n=e,(t=[{key:"createBoard",value:function(e,n){var t,r,a=[];this.board=[];for(var o=1;o<=e*n;o++)a.push(o);for(var i=0;i<e;i++){for(var c=[],A=0;A<n;A++){var l=(t=0,r=a.length-1,Math.floor(Math.random()*(r-t))+t);c.push(a[l]),a.splice(l,1)}this.board.push(c)}return this.board}},{key:"getResult",value:function(e){for(var n=this.result,t=this.board,r=0;r<t.length;r++)for(var a=0;a<t[r].length;a++)t[r][a]===parseInt(e.textContent,10)&&(n.row[r]++,n.cell[a]++,r===a?(n.left++,r+a===4&&n.right++):r+a===4&&n.right++);return this.getScoreString()}},{key:"getScoreString",value:function(){var e=this.result,n=e.cell.filter((function(e){return 5===e})),t=e.row.filter((function(e){return 5===e}));return this.score=n.length+t.length,5===e.left&&this.score++,5===e.right&&this.score++,this.score}}])&&r(n.prototype,t),a&&r(n,a),e}();function o(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return t}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return i(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return i(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function c(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var A=function(){function e(n){var t=o(n,2),r=t[0],a=t[1];!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.history=[],this.current=r,this.players=[r,a]}var n,t,r;return n=e,(t=[{key:"activeHistory",value:function(e,n){if(null===document.getElementById(n))throw Error();return this.historyBoxEl=document.getElementById(n),this.history.push(e.textContent),this.historyBoxEl.insertAdjacentHTML("beforeend","<span>".concat(e.textContent,"</span>")),this.current===this.players[0]?this.current=this.players[1]:this.current=this.players[0],this.history}}])&&c(n.prototype,t),r&&c(n,r),e}();function l(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(n){var t=this,r=n.bingo,a=n.callback,o=n.player;if(function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),!(a instanceof Function))throw new Error("콜백함수를 잘못 전달 받았습니다");for(var i=0;i<o.board.length;i++){for(var c=document.createElement("tr"),A=0;A<o.board[0].length;A++){var l=document.createElement("td");l.innerText=o.board[i][A],c.appendChild(l)}o.containerEl.querySelector(".board").appendChild(c)}o.containerEl.querySelector(".score-text").innerText=o.score,o.containerEl.querySelector(".game-board-name").innerText=o.name,o.containerEl.querySelector(".board").addEventListener("click",(function(e){if(r.current===o.name){e.target.classList.add("active");var n=document.getElementsByClassName("board"),i=[].reduce.call(n,(function(e,n){return n!==o.containerEl.querySelector(".board")?n:e}));t.addClassOfOtherBoard(i,e.target),a.call(null,e.target)}else alert("현재 차례가 아닙니다")}))}var n,t,r;return n=e,(t=[{key:"addClassOfOtherBoard",value:function(e,n){Array.prototype.forEach.call(e.children,(function(e){Array.prototype.forEach.call(e.children,(function(e){e.textContent===n.textContent&&e.classList.add("active")}))}))}}])&&l(n.prototype,t),r&&l(n,r),e}();function u(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(){var n=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e);var t=document.getElementById("me-name"),r=document.getElementById("you-name");document.getElementById("start-button").addEventListener("click",(function(e){var o=new a("me",{row:5,cell:5,name:t.value}),i=new a("you",{row:5,cell:5,name:r.value});n.startGame(o,i),e.preventDefault()}))}var n,t,r;return n=e,(t=[{key:"startGame",value:function(e,n){var t=this,r=new A([e.name,n.name]),a=r.history;try{var o=function(o){if(!a.includes(o.textContent)){r.activeHistory(o,"game-history-box");var i=e.getResult(o),c=n.getResult(o);e.containerEl.querySelector(".score-text").innerText=i,n.containerEl.querySelector(".score-text").innerText=c,5!==i&&5!==c||(alert("이겼습니다"),t.resetGame())}};new s({bingo:r,callback:o,player:e}),new s({bingo:r,callback:o,player:n})}catch(e){console.log(e)}document.querySelector(".main-page").style.display="none",document.querySelector(".game-page").style.display="block"}},{key:"resetGame",value:function(){[].map.call(document.querySelectorAll(".board"),(function(e){var n=e.cloneNode(!1);e.parentNode.replaceChild(n,e)})),[].map.call(document.querySelectorAll(".player-name"),(function(e){return e.value=""})),document.querySelector(".game-history-box").innerHTML="",document.querySelector(".main-page").style.display="block",document.querySelector(".game-page").style.display="none"}}])&&u(n.prototype,t),r&&u(n,r),e}();t(1);new d}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2Nzcy9zdHlsZXMuY3NzPzJhNjAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3NzL3N0eWxlcy5jc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3BsYXllci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2JpbmdvLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9jcmVhdGVCb2FyZFVJLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9hcHAuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwidXNlU291cmNlTWFwIiwibGlzdCIsInRvU3RyaW5nIiwidGhpcyIsIm1hcCIsIml0ZW0iLCJjb250ZW50IiwiY3NzTWFwcGluZyIsImJ0b2EiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlTWFwIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsImNvbmNhdCIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsImpvaW4iLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibWVkaWFRdWVyeSIsImRlZHVwZSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJsZW5ndGgiLCJpZCIsIl9pIiwicHVzaCIsImFwaSIsImRlZmF1bHQiLCJvcHRpb25zIiwibG9jYWxzIiwibWVtbyIsImlzT2xkSUUiLCJCb29sZWFuIiwid2luZG93IiwiZG9jdW1lbnQiLCJhbGwiLCJhdG9iIiwiZ2V0VGFyZ2V0IiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsInN0eWxlc0luRG9tIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibW9kdWxlc1RvRG9tIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXgiLCJvYmoiLCJjc3MiLCJtZWRpYSIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkU3R5bGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImNyZWF0ZUVsZW1lbnQiLCJhdHRyaWJ1dGVzIiwibm9uY2UiLCJrZXlzIiwiZm9yRWFjaCIsInNldEF0dHJpYnV0ZSIsImluc2VydCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsInJlbW92ZSIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3NzTm9kZSIsImNyZWF0ZVRleHROb2RlIiwiY2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwiaW5zZXJ0QmVmb3JlIiwiYXBwbHlUb1RhZyIsInJlbW92ZUF0dHJpYnV0ZSIsImZpcnN0Q2hpbGQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwidXBkYXRlIiwic3R5bGVJbmRleCIsInBhcmVudE5vZGUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJuZXdPYmoiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2luZGV4Iiwic3BsaWNlIiwiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJQbGF5ZXIiLCJjb250YWluZXJFbCIsInJvdyIsImNlbGwiLCJib2FyZCIsImNyZWF0ZUJvYXJkIiwic2NvcmUiLCJBcnJheSIsImZpbGwiLCJsZWZ0IiwicmlnaHQiLCJnZXRFbGVtZW50QnlJZCIsIm1pbiIsIm1heCIsIm51bWJlcnMiLCJib2FyZF9yb3ciLCJqIiwiaWR4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwicGFyc2VJbnQiLCJ0ZXh0Q29udGVudCIsImdldFNjb3JlU3RyaW5nIiwicmVzdWx0Q2VsbCIsInJlc3VsdFJvdyIsIkJpbmdvIiwibWUiLCJ5b3UiLCJoaXN0b3J5IiwiY3VycmVudCIsInBsYXllcnMiLCJoaXN0b3J5Qm94RWwiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJDcmVhdGVCb2FyZFVJIiwiYmluZ28iLCJjYWxsYmFjayIsInBsYXllciIsIkZ1bmN0aW9uIiwidHIiLCJ0ZCIsImlubmVyVGV4dCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJhZGQiLCJib2FyZHMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwib3RoZXJCb2FyZCIsInJlZHVjZSIsImFjYyIsImN1ciIsImFkZENsYXNzT2ZPdGhlckJvYXJkIiwiYWxlcnQiLCJib2FyZEVsIiwiY2hpbGRyZW4iLCJ0ckVsIiwidGRFbCIsIkFwcCIsIm1lUGxheWVyTmFtZUVsIiwieW91UGxheWVyTmFtZUVsIiwic3RhcnRHYW1lIiwicHJldmVudERlZmF1bHQiLCJpbmNsdWRlcyIsImFjdGl2ZUhpc3RvcnkiLCJtZVJlc3VsdCIsImdldFJlc3VsdCIsInlvdVJlc3VsdCIsInJlc2V0R2FtZSIsImNvbnNvbGUiLCJsb2ciLCJkaXNwbGF5IiwicXVlcnlTZWxlY3RvckFsbCIsInByZUVsZSIsImNsb25lQm9hcmQiLCJjbG9uZU5vZGUiLCJyZXBsYWNlQ2hpbGQiLCJpbm5lckhUTUwiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gsRUFDaEYsSUFBSUksRUFBS1gsT0FBT1ksT0FBTyxNQUd2QixHQUZBMUIsRUFBb0JrQixFQUFFTyxHQUN0QlgsT0FBT0MsZUFBZVUsRUFBSSxVQUFXLENBQUVULFlBQVksRUFBTUssTUFBT0EsSUFDdEQsRUFBUEUsR0FBNEIsaUJBQVRGLEVBQW1CLElBQUksSUFBSU0sS0FBT04sRUFBT3JCLEVBQW9CVSxFQUFFZSxFQUFJRSxFQUFLLFNBQVNBLEdBQU8sT0FBT04sRUFBTU0sSUFBUUMsS0FBSyxLQUFNRCxJQUM5SSxPQUFPRixHQUlSekIsRUFBb0I2QixFQUFJLFNBQVMxQixHQUNoQyxJQUFJUyxFQUFTVCxHQUFVQSxFQUFPcUIsV0FDN0IsV0FBd0IsT0FBT3JCLEVBQWdCLFNBQy9DLFdBQThCLE9BQU9BLEdBRXRDLE9BREFILEVBQW9CVSxFQUFFRSxFQUFRLElBQUtBLEdBQzVCQSxHQUlSWixFQUFvQmEsRUFBSSxTQUFTaUIsRUFBUUMsR0FBWSxPQUFPakIsT0FBT2tCLFVBQVVDLGVBQWUxQixLQUFLdUIsRUFBUUMsSUFHekcvQixFQUFvQmtDLEVBQUksR0FJakJsQyxFQUFvQkEsRUFBb0JtQyxFQUFJLEcsK0JDMUVyRGhDLEVBQU9ELFFBQVUsU0FBVWtDLEdBQ3pCLElBQUlDLEVBQU8sR0F1RFgsT0FyREFBLEVBQUtDLFNBQVcsV0FDZCxPQUFPQyxLQUFLQyxLQUFJLFNBQVVDLEdBQ3hCLElBQUlDLEVBc0RWLFNBQWdDRCxFQUFNTCxHQUNwQyxJQUFJTSxFQUFVRCxFQUFLLElBQU0sR0FFckJFLEVBQWFGLEVBQUssR0FFdEIsSUFBS0UsRUFDSCxPQUFPRCxFQUdULEdBQUlOLEdBQWdDLG1CQUFUUSxLQUFxQixDQUM5QyxJQUFJQyxHQVdXQyxFQVhlSCxFQWE1QkksRUFBU0gsS0FBS0ksU0FBU0MsbUJBQW1CQyxLQUFLQyxVQUFVTCxNQUN6RE0sRUFBTywrREFBK0RDLE9BQU9OLEdBQzFFLE9BQU9NLE9BQU9ELEVBQU0sUUFkckJFLEVBQWFYLEVBQVdZLFFBQVFmLEtBQUksU0FBVWdCLEdBQ2hELE1BQU8saUJBQWlCSCxPQUFPVixFQUFXYyxZQUFjLElBQUlKLE9BQU9HLEVBQVEsVUFFN0UsTUFBTyxDQUFDZCxHQUFTVyxPQUFPQyxHQUFZRCxPQUFPLENBQUNSLElBQWdCYSxLQUFLLE1BT3JFLElBQW1CWixFQUViQyxFQUNBSyxFQVBKLE1BQU8sQ0FBQ1YsR0FBU2dCLEtBQUssTUF2RUpDLENBQXVCbEIsRUFBTUwsR0FFM0MsT0FBSUssRUFBSyxHQUNBLFVBQVVZLE9BQU9aLEVBQUssR0FBSSxNQUFNWSxPQUFPWCxFQUFTLEtBR2xEQSxLQUNOZ0IsS0FBSyxLQUtWckIsRUFBS2pDLEVBQUksU0FBVUUsRUFBU3NELEVBQVlDLEdBQ2YsaUJBQVp2RCxJQUVUQSxFQUFVLENBQUMsQ0FBQyxLQUFNQSxFQUFTLE1BRzdCLElBQUl3RCxFQUF5QixHQUU3QixHQUFJRCxFQUNGLElBQUssSUFBSXpELEVBQUksRUFBR0EsRUFBSW1DLEtBQUt3QixPQUFRM0QsSUFBSyxDQUVwQyxJQUFJNEQsRUFBS3pCLEtBQUtuQyxHQUFHLEdBRVAsTUFBTjRELElBQ0ZGLEVBQXVCRSxJQUFNLEdBS25DLElBQUssSUFBSUMsRUFBSyxFQUFHQSxFQUFLM0QsRUFBUXlELE9BQVFFLElBQU0sQ0FDMUMsSUFBSXhCLEVBQU8sR0FBR1ksT0FBTy9DLEVBQVEyRCxJQUV6QkosR0FBVUMsRUFBdUJyQixFQUFLLE1BS3RDbUIsSUFDR25CLEVBQUssR0FHUkEsRUFBSyxHQUFLLEdBQUdZLE9BQU9PLEVBQVksU0FBU1AsT0FBT1osRUFBSyxJQUZyREEsRUFBSyxHQUFLbUIsR0FNZHZCLEVBQUs2QixLQUFLekIsTUFJUEosSSxnQkNoRVQsSUFBSThCLEVBQU0sRUFBUSxHQUNGekIsRUFBVSxFQUFRLEdBSUMsaUJBRnZCQSxFQUFVQSxFQUFRbEIsV0FBYWtCLEVBQVEwQixRQUFVMUIsS0FHL0NBLEVBQVUsQ0FBQyxDQUFDdkMsRUFBT0MsRUFBSXNDLEVBQVMsTUFHOUMsSUFBSTJCLEVBQVUsQ0FFZCxPQUFpQixPQUNqQixXQUFvQixHQUVQRixFQUFJekIsRUFBUzJCLEdBSTFCbEUsRUFBT0QsUUFBVXdDLEVBQVE0QixRQUFVLEksNkJDaEJuQyxJQUNNQyxFQURGQyxFQUVLLFdBVUwsWUFUb0IsSUFBVEQsSUFNVEEsRUFBT0UsUUFBUUMsUUFBVUMsVUFBWUEsU0FBU0MsTUFBUUYsT0FBT0csT0FHeEROLEdBSVBPLEVBQVksV0FDZCxJQUFJUCxFQUFPLEdBQ1gsT0FBTyxTQUFrQlEsR0FDdkIsUUFBNEIsSUFBakJSLEVBQUtRLEdBQXlCLENBQ3ZDLElBQUlDLEVBQWNMLFNBQVNNLGNBQWNGLEdBRXpDLEdBQUlMLE9BQU9RLG1CQUFxQkYsYUFBdUJOLE9BQU9RLGtCQUM1RCxJQUdFRixFQUFjQSxFQUFZRyxnQkFBZ0JDLEtBQzFDLE1BQU9DLEdBRVBMLEVBQWMsS0FJbEJULEVBQUtRLEdBQVVDLEVBR2pCLE9BQU9ULEVBQUtRLElBcEJBLEdBd0JaTyxFQUFjLEdBRWxCLFNBQVNDLEVBQXFCQyxHQUc1QixJQUZBLElBQUlDLEdBQVUsRUFFTHJGLEVBQUksRUFBR0EsRUFBSWtGLEVBQVl2QixPQUFRM0QsSUFDdEMsR0FBSWtGLEVBQVlsRixHQUFHb0YsYUFBZUEsRUFBWSxDQUM1Q0MsRUFBU3JGLEVBQ1QsTUFJSixPQUFPcUYsRUFHVCxTQUFTQyxFQUFhckQsRUFBTWdDLEdBSTFCLElBSEEsSUFBSXNCLEVBQWEsR0FDYkMsRUFBYyxHQUVUeEYsRUFBSSxFQUFHQSxFQUFJaUMsRUFBSzBCLE9BQVEzRCxJQUFLLENBQ3BDLElBQUlxQyxFQUFPSixFQUFLakMsR0FDWjRELEVBQUtLLEVBQVF3QixLQUFPcEQsRUFBSyxHQUFLNEIsRUFBUXdCLEtBQU9wRCxFQUFLLEdBQ2xEcUQsRUFBUUgsRUFBVzNCLElBQU8sRUFDMUJ3QixFQUFhLEdBQUduQyxPQUFPVyxFQUFJLEtBQUtYLE9BQU95QyxHQUMzQ0gsRUFBVzNCLEdBQU04QixFQUFRLEVBQ3pCLElBQUlDLEVBQVFSLEVBQXFCQyxHQUM3QlEsRUFBTSxDQUNSQyxJQUFLeEQsRUFBSyxHQUNWeUQsTUFBT3pELEVBQUssR0FDWkssVUFBV0wsRUFBSyxLQUdILElBQVhzRCxHQUNGVCxFQUFZUyxHQUFPSSxhQUNuQmIsRUFBWVMsR0FBT0ssUUFBUUosSUFFM0JWLEVBQVlwQixLQUFLLENBQ2ZzQixXQUFZQSxFQUNaWSxRQUFTQyxFQUFTTCxFQUFLM0IsR0FDdkI4QixXQUFZLElBSWhCUCxFQUFZMUIsS0FBS3NCLEdBR25CLE9BQU9JLEVBR1QsU0FBU1UsRUFBbUJqQyxHQUMxQixJQUFJa0MsRUFBUTVCLFNBQVM2QixjQUFjLFNBQy9CQyxFQUFhcEMsRUFBUW9DLFlBQWMsR0FFdkMsUUFBZ0MsSUFBckJBLEVBQVdDLE1BQXVCLENBQzNDLElBQUlBLEVBQW1ELEtBRW5EQSxJQUNGRCxFQUFXQyxNQUFRQSxHQVF2QixHQUpBNUYsT0FBTzZGLEtBQUtGLEdBQVlHLFNBQVEsU0FBVWpGLEdBQ3hDNEUsRUFBTU0sYUFBYWxGLEVBQUs4RSxFQUFXOUUsT0FHUCxtQkFBbkIwQyxFQUFReUMsT0FDakJ6QyxFQUFReUMsT0FBT1AsT0FDVixDQUNMLElBQUl4QixFQUFTRCxFQUFVVCxFQUFReUMsUUFBVSxRQUV6QyxJQUFLL0IsRUFDSCxNQUFNLElBQUlnQyxNQUFNLDJHQUdsQmhDLEVBQU9pQyxZQUFZVCxHQUdyQixPQUFPQSxFQWNULElBQ01VLEVBREZDLEdBQ0VELEVBQVksR0FDVCxTQUFpQmxCLEVBQU9vQixHQUU3QixPQURBRixFQUFVbEIsR0FBU29CLEVBQ1pGLEVBQVVHLE9BQU8zQyxTQUFTZixLQUFLLFFBSTFDLFNBQVMyRCxFQUFvQmQsRUFBT1IsRUFBT3VCLEVBQVF0QixHQUNqRCxJQUFJQyxFQUFNcUIsRUFBUyxHQUFLdEIsRUFBSUUsTUFBUSxVQUFVN0MsT0FBTzJDLEVBQUlFLE1BQU8sTUFBTTdDLE9BQU8yQyxFQUFJQyxJQUFLLEtBQU9ELEVBQUlDLElBSWpHLEdBQUlNLEVBQU1nQixXQUNSaEIsRUFBTWdCLFdBQVdDLFFBQVVOLEVBQVluQixFQUFPRSxPQUN6QyxDQUNMLElBQUl3QixFQUFVOUMsU0FBUytDLGVBQWV6QixHQUNsQzBCLEVBQWFwQixFQUFNb0IsV0FFbkJBLEVBQVc1QixJQUNiUSxFQUFNcUIsWUFBWUQsRUFBVzVCLElBRzNCNEIsRUFBVzVELE9BQ2J3QyxFQUFNc0IsYUFBYUosRUFBU0UsRUFBVzVCLElBRXZDUSxFQUFNUyxZQUFZUyxJQUt4QixTQUFTSyxFQUFXdkIsRUFBT2xDLEVBQVMyQixHQUNsQyxJQUFJQyxFQUFNRCxFQUFJQyxJQUNWQyxFQUFRRixFQUFJRSxNQUNacEQsRUFBWWtELEVBQUlsRCxVQWVwQixHQWJJb0QsRUFDRkssRUFBTU0sYUFBYSxRQUFTWCxHQUU1QkssRUFBTXdCLGdCQUFnQixTQUdwQmpGLEdBQWFGLE9BQ2ZxRCxHQUFPLHVEQUF1RDVDLE9BQU9ULEtBQUtJLFNBQVNDLG1CQUFtQkMsS0FBS0MsVUFBVUwsTUFBZSxRQU1sSXlELEVBQU1nQixXQUNSaEIsRUFBTWdCLFdBQVdDLFFBQVV2QixNQUN0QixDQUNMLEtBQU9NLEVBQU15QixZQUNYekIsRUFBTXFCLFlBQVlyQixFQUFNeUIsWUFHMUJ6QixFQUFNUyxZQUFZckMsU0FBUytDLGVBQWV6QixLQUk5QyxJQUFJZ0MsRUFBWSxLQUNaQyxFQUFtQixFQUV2QixTQUFTN0IsRUFBU0wsRUFBSzNCLEdBQ3JCLElBQUlrQyxFQUNBNEIsRUFDQWIsRUFFSixHQUFJakQsRUFBUTRELFVBQVcsQ0FDckIsSUFBSUcsRUFBYUYsSUFDakIzQixFQUFRMEIsSUFBY0EsRUFBWTNCLEVBQW1CakMsSUFDckQ4RCxFQUFTZCxFQUFvQnpGLEtBQUssS0FBTTJFLEVBQU82QixHQUFZLEdBQzNEZCxFQUFTRCxFQUFvQnpGLEtBQUssS0FBTTJFLEVBQU82QixHQUFZLFFBRTNEN0IsRUFBUUQsRUFBbUJqQyxHQUMzQjhELEVBQVNMLEVBQVdsRyxLQUFLLEtBQU0yRSxFQUFPbEMsR0FFdENpRCxFQUFTLFlBeEZiLFNBQTRCZixHQUUxQixHQUF5QixPQUFyQkEsRUFBTThCLFdBQ1IsT0FBTyxFQUdUOUIsRUFBTThCLFdBQVdULFlBQVlyQixHQW1GekIrQixDQUFtQi9CLElBS3ZCLE9BREE0QixFQUFPbkMsR0FDQSxTQUFxQnVDLEdBQzFCLEdBQUlBLEVBQVEsQ0FDVixHQUFJQSxFQUFPdEMsTUFBUUQsRUFBSUMsS0FBT3NDLEVBQU9yQyxRQUFVRixFQUFJRSxPQUFTcUMsRUFBT3pGLFlBQWNrRCxFQUFJbEQsVUFDbkYsT0FHRnFGLEVBQU9uQyxFQUFNdUMsUUFFYmpCLEtBS05uSCxFQUFPRCxRQUFVLFNBQVVtQyxFQUFNZ0MsSUFDL0JBLEVBQVVBLEdBQVcsSUFHUjRELFdBQTBDLGtCQUF0QjVELEVBQVE0RCxZQUN2QzVELEVBQVE0RCxVQUFZekQsS0FJdEIsSUFBSWdFLEVBQWtCOUMsRUFEdEJyRCxFQUFPQSxHQUFRLEdBQzBCZ0MsR0FDekMsT0FBTyxTQUFnQm9FLEdBR3JCLEdBRkFBLEVBQVVBLEdBQVcsR0FFMkIsbUJBQTVDM0gsT0FBT2tCLFVBQVVNLFNBQVMvQixLQUFLa0ksR0FBbkMsQ0FJQSxJQUFLLElBQUlySSxFQUFJLEVBQUdBLEVBQUlvSSxFQUFnQnpFLE9BQVEzRCxJQUFLLENBQy9DLElBQ0kyRixFQUFRUixFQURLaUQsRUFBZ0JwSSxJQUVqQ2tGLEVBQVlTLEdBQU9JLGFBS3JCLElBRkEsSUFBSXVDLEVBQXFCaEQsRUFBYStDLEVBQVNwRSxHQUV0Q0osRUFBSyxFQUFHQSxFQUFLdUUsRUFBZ0J6RSxPQUFRRSxJQUFNLENBQ2xELElBRUkwRSxFQUFTcEQsRUFGS2lELEVBQWdCdkUsSUFJSyxJQUFuQ3FCLEVBQVlxRCxHQUFReEMsYUFDdEJiLEVBQVlxRCxHQUFRdkMsVUFFcEJkLEVBQVlzRCxPQUFPRCxFQUFRLElBSS9CSCxFQUFrQkUsTSw2QkMxUXRCLGtCQUVJRyxFQUZKLE1BRThCLElBQTRCLEdBQzFEQSxFQUF3QjNFLEtBQUssQ0FBQy9ELEVBQU9DLEVBQUksdUZBRXpDeUksRUFBd0IzRSxLQUFLLENBQUMvRCxFQUFPQyxFQUFJLHF6SEFBc3pILEdBQUcsQ0FBQyxRQUFVLEVBQUUsUUFBVSxDQUFDLGdDQUFnQyxnQ0FBZ0Msa0NBQWtDLE1BQVEsR0FBRyxTQUFXLHMyQ0FBczJDLFdBQWEsTUFFdDFLLGEsOE1DTE0wSSxFLFdBQ25CLFdBQVlDLEVBQVosR0FBeUQsUUFBL0JDLFdBQStCLE1BQXpCLEVBQXlCLE1BQXRCQyxZQUFzQixNQUFmLEVBQWUsTUFBWnRJLFlBQVksTUFBTCxHQUFLLEVBWXZELEcsNEZBWnVELFNBQ3ZENEIsS0FBSzJHLE1BQVEzRyxLQUFLNEcsWUFBWUgsRUFBS0MsR0FDbkMxRyxLQUFLNkcsTUFBUSxFQUNiN0csS0FBSzVCLEtBQU9BLEVBRVo0QixLQUFLa0QsT0FBUyxDQUNadUQsSUFBSyxJQUFJSyxNQUFNLEdBQUdDLEtBQUssR0FDdkJMLEtBQU0sSUFBSUksTUFBTSxHQUFHQyxLQUFLLEdBQ3hCQyxLQUFNLEVBQ05DLE1BQU8sR0FHb0MsT0FBekM3RSxTQUFTOEUsZUFBZVYsR0FBdUIsTUFBTWhDLE1BQU0sR0FBRCxPQUFJZ0MsRUFBSixnQkFFOUR4RyxLQUFLd0csWUFBY3BFLFNBQVM4RSxlQUFlVixHLDJEQUdqQ0MsRUFBS0MsR0FDZixJQ3JCK0JTLEVBQUtDLEVEcUI5QkMsRUFBVSxHQUNoQnJILEtBQUsyRyxNQUFRLEdBRWIsSUFBSyxJQUFJOUksRUFBSSxFQUFHQSxHQUFLNEksRUFBTUMsRUFBTTdJLElBQy9Cd0osRUFBUTFGLEtBQUs5RCxHQUdmLElBQUssSUFBSUEsRUFBSSxFQUFHQSxFQUFJNEksRUFBSzVJLElBQUssQ0FFNUIsSUFEQSxJQUFNeUosRUFBWSxHQUNUQyxFQUFJLEVBQUdBLEVBQUliLEVBQU1hLElBQUssQ0FDN0IsSUFBTUMsR0MvQnFCTCxFRCtCSSxFQy9CQ0MsRUQrQkVDLEVBQVE3RixPQUFTLEVDOUJsRGlHLEtBQUtDLE1BQU1ELEtBQUtFLFVBQVlQLEVBQU1ELElBQVFBLEdEK0IzQ0csRUFBVTNGLEtBQUswRixFQUFRRyxJQUN2QkgsRUFBUWhCLE9BQU9tQixFQUFLLEdBRXRCeEgsS0FBSzJHLE1BQU1oRixLQUFLMkYsR0FHbEIsT0FBT3RILEtBQUsyRyxRLGdDQUVKbkUsR0FHUixJQUhnQixJQUNSVSxFQUFrQmxELEtBQWxCa0QsT0FBUXlELEVBQVUzRyxLQUFWMkcsTUFFUDlJLEVBQUUsRUFBR0EsRUFBRThJLEVBQU1uRixPQUFRM0QsSUFDNUIsSUFBSyxJQUFJMEosRUFBSSxFQUFHQSxFQUFJWixFQUFNOUksR0FBRzJELE9BQVErRixJQUMvQlosRUFBTTlJLEdBQUcwSixLQUFPSyxTQUFTcEYsRUFBT3FGLFlBQWEsTUFDL0MzRSxFQUFPdUQsSUFBSTVJLEtBQ1hxRixFQUFPd0QsS0FBS2EsS0FFUjFKLElBQU0wSixHQUNSckUsRUFBTzhELE9BQ0huSixFQUFJMEosSUFBTSxHQUNackUsRUFBTytELFNBRUFwSixFQUFJMEosSUFBTSxHQUNuQnJFLEVBQU8rRCxTQU9mLE9BQU9qSCxLQUFLOEgsbUIsdUNBRUcsSUFDUDVFLEVBQVdsRCxLQUFYa0QsT0FDRjZFLEVBQWE3RSxFQUFPd0QsS0FBSzdCLFFBQU8sU0FBQTNFLEdBQUksT0FBYSxJQUFUQSxLQUN4QzhILEVBQVk5RSxFQUFPdUQsSUFBSTVCLFFBQU8sU0FBQTNFLEdBQUksT0FBYSxJQUFUQSxLQVk1QyxPQVZBRixLQUFLNkcsTUFBUWtCLEVBQVd2RyxPQUFTd0csRUFBVXhHLE9BRXZCLElBQWhCMEIsRUFBTzhELE1BQ1RoSCxLQUFLNkcsUUFHYyxJQUFqQjNELEVBQU8rRCxPQUNUakgsS0FBSzZHLFFBR0E3RyxLQUFLNkcsVyxpcENFL0VLb0IsRSxXQUNuQixjQUF1QixhQUFWQyxFQUFVLEtBQU5DLEVBQU0sTSw0RkFBQSxTQUNyQm5JLEtBQUtvSSxRQUFVLEdBQ2ZwSSxLQUFLcUksUUFBVUgsRUFDZmxJLEtBQUtzSSxRQUFVLENBQUNKLEVBQUlDLEcsNkRBR1IzRixFQUFRK0YsR0FDcEIsR0FBOEMsT0FBMUNuRyxTQUFTOEUsZUFBZXFCLEdBQXdCLE1BQU0vRCxRQVkxRCxPQVhBeEUsS0FBS3VJLGFBQWVuRyxTQUFTOEUsZUFBZXFCLEdBRTVDdkksS0FBS29JLFFBQVF6RyxLQUFLYSxFQUFPcUYsYUFDekI3SCxLQUFLdUksYUFBYUMsbUJBQW1CLFlBQXJDLGdCQUEyRGhHLEVBQU9xRixZQUFsRSxZQUVJN0gsS0FBS3FJLFVBQVlySSxLQUFLc0ksUUFBUSxHQUNoQ3RJLEtBQUtxSSxRQUFXckksS0FBS3NJLFFBQVEsR0FFN0J0SSxLQUFLcUksUUFBVXJJLEtBQUtzSSxRQUFRLEdBR3ZCdEksS0FBS29JLGEsME1DcEJLSyxFLFdBQ25CLGNBQXVDLFdBQTFCQyxFQUEwQixFQUExQkEsTUFBT0MsRUFBbUIsRUFBbkJBLFNBQVVDLEVBQVMsRUFBVEEsT0FDNUIsRyw0RkFEcUMsV0FDL0JELGFBQW9CRSxVQUN4QixNQUFNLElBQUlyRSxNQUFNLHFCQUlsQixJQUFLLElBQUkzRyxFQUFJLEVBQUdBLEVBQUkrSyxFQUFPakMsTUFBTW5GLE9BQVEzRCxJQUFLLENBRTVDLElBREEsSUFBTWlMLEVBQUsxRyxTQUFTNkIsY0FBYyxNQUN6QnNELEVBQUksRUFBR0EsRUFBSXFCLEVBQU9qQyxNQUFNLEdBQUduRixPQUFRK0YsSUFBSyxDQUMvQyxJQUFNd0IsRUFBSzNHLFNBQVM2QixjQUFjLE1BQ2xDOEUsRUFBR0MsVUFBWUosRUFBT2pDLE1BQU05SSxHQUFHMEosR0FDL0J1QixFQUFHckUsWUFBWXNFLEdBRWpCSCxFQUFPcEMsWUFBWTlELGNBQWMsVUFBVStCLFlBQVlxRSxHQUl6REYsRUFBT3BDLFlBQVk5RCxjQUFjLGVBQWVzRyxVQUFZSixFQUFPL0IsTUFDbkUrQixFQUFPcEMsWUFBWTlELGNBQWMsb0JBQW9Cc0csVUFBWUosRUFBT3hLLEtBRXhFd0ssRUFBT3BDLFlBQVk5RCxjQUFjLFVBQVV1RyxpQkFBaUIsU0FBUyxTQUFDbkcsR0FDcEUsR0FBSTRGLEVBQU1MLFVBQVlPLEVBQU94SyxLQUE3QixDQUtBMEUsRUFBRU4sT0FBTzBHLFVBQVVDLElBQUksVUFDdkIsSUFBTUMsRUFBU2hILFNBQVNpSCx1QkFBdUIsU0FDekNDLEVBQWEsR0FBR0MsT0FBT3ZMLEtBQUtvTCxHQUFRLFNBQUNJLEVBQUtDLEdBQU4sT0FBY0EsSUFBUWIsRUFBT3BDLFlBQVk5RCxjQUFjLFVBQVkrRyxFQUFNRCxLQUNuSCxFQUFLRSxxQkFBcUJKLEVBQVl4RyxFQUFFTixRQUV4Q21HLEVBQVMzSyxLQUFLLEtBQU04RSxFQUFFTixhQVRwQm1ILE1BQU0sa0Isb0VBYVNDLEVBQVNwSCxHQUM1QnNFLE1BQU1ySCxVQUFVNEUsUUFBUXJHLEtBQUs0TCxFQUFRQyxVQUFVLFNBQUNDLEdBQzlDaEQsTUFBTXJILFVBQVU0RSxRQUFRckcsS0FBSzhMLEVBQUtELFVBQVUsU0FBQ0UsR0FDdkNBLEVBQUtsQyxjQUFnQnJGLEVBQU9xRixhQUM5QmtDLEVBQUtiLFVBQVVDLElBQUkscUIsME1DcENSYSxFLFdBQ25CLGFBQWMsWSw0RkFBQSxTQUNaLElBQU1DLEVBQWlCN0gsU0FBUzhFLGVBQWUsV0FDekNnRCxFQUFrQjlILFNBQVM4RSxlQUFlLFlBRWhEOUUsU0FBUzhFLGVBQWUsZ0JBQWdCK0IsaUJBQWlCLFNBQVMsU0FBQ25HLEdBQ2pFLElBQU1vRixFQUFLLElBQUkzQixFQUFPLEtBQU0sQ0FBQ0UsSUFBSyxFQUFHQyxLQUFNLEVBQUd0SSxLQUFNNkwsRUFBZW5MLFFBQzdEcUosRUFBTSxJQUFJNUIsRUFBTyxNQUFPLENBQUNFLElBQUssRUFBR0MsS0FBTSxFQUFHdEksS0FBTThMLEVBQWdCcEwsUUFFdEUsRUFBS3FMLFVBQVVqQyxFQUFJQyxHQUNuQnJGLEVBQUVzSCxvQix5REFJSWxDLEVBQUlDLEdBQUksV0FDVk8sRUFBUSxJQUFJVCxFQUFNLENBQUNDLEVBQUc5SixLQUFNK0osRUFBSS9KLE9BQzlCZ0ssRUFBWU0sRUFBWk4sUUFFUixJQUNFLElBQU1PLEVBQVcsU0FBQ25HLEdBQ2hCLElBQUk0RixFQUFRaUMsU0FBUzdILEVBQU9xRixhQUE1QixDQUVBYSxFQUFNNEIsY0FBYzlILEVBQVEsb0JBRTVCLElBQU0rSCxFQUFXckMsRUFBR3NDLFVBQVVoSSxHQUN4QmlJLEVBQVl0QyxFQUFJcUMsVUFBVWhJLEdBQ2hDMEYsRUFBRzFCLFlBQVk5RCxjQUFjLGVBQWVzRyxVQUFZdUIsRUFDeERwQyxFQUFJM0IsWUFBWTlELGNBQWMsZUFBZXNHLFVBQVl5QixFQUV4QyxJQUFiRixHQUFnQyxJQUFkRSxJQUNwQmQsTUFBTSxTQUNOLEVBQUtlLGVBSVQsSUFBSWpDLEVBQWMsQ0FBRUMsUUFBT0MsV0FBVUMsT0FBUVYsSUFDN0MsSUFBSU8sRUFBYyxDQUFFQyxRQUFPQyxXQUFVQyxPQUFRVCxJQUM3QyxNQUFPckYsR0FDUDZILFFBQVFDLElBQUk5SCxHQUdkVixTQUFTTSxjQUFjLGNBQWNzQixNQUFNNkcsUUFBVSxPQUNyRHpJLFNBQVNNLGNBQWMsY0FBY3NCLE1BQU02RyxRQUFVLFUsa0NBSXJELEdBQUc1SyxJQUFJakMsS0FBS29FLFNBQVMwSSxpQkFBaUIsV0FBVyxTQUFBQyxHQUMvQyxJQUFNQyxFQUFhRCxFQUFPRSxXQUFVLEdBQ3BDRixFQUFPakYsV0FBV29GLGFBQWFGLEVBQVlELE1BRzdDLEdBQUc5SyxJQUFJakMsS0FBS29FLFNBQVMwSSxpQkFBaUIsaUJBQWlCLFNBQUE1SyxHQUFJLE9BQUlBLEVBQUtwQixNQUFRLE1BQzVFc0QsU0FBU00sY0FBYyxxQkFBcUJ5SSxVQUFZLEdBRXhEL0ksU0FBU00sY0FBYyxjQUFjc0IsTUFBTTZHLFFBQVUsUUFDckR6SSxTQUFTTSxjQUFjLGNBQWNzQixNQUFNNkcsUUFBVSxZLHFDQ3hEekQsSUFBSWIiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA0KTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICByZXR1cm4gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGNvbnRlbnQsIFwifVwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbignJyk7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSwgZGVkdXBlKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCAnJ11dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgICAgIHZhciBpZCA9IHRoaXNbaV1bMF07XG5cbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbW9kdWxlcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2ldKTtcblxuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250aW51ZVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1lZGlhUXVlcnkpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsyXSA9IFwiXCIuY29uY2F0KG1lZGlhUXVlcnksIFwiIGFuZCBcIikuY29uY2F0KGl0ZW1bMl0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuXG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8ICcnKS5jb25jYXQoc291cmNlLCBcIiAqL1wiKTtcbiAgICB9KTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59IC8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcblxuXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcbiAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICByZXR1cm4gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xufSIsInZhciBhcGkgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZXMuY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscyB8fCB7fTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLm1lZGlhID8gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKS5jb25jYXQob2JqLmNzcywgXCJ9XCIpIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ21lZGlhJyk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIGJ0b2EpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyIHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlO1xuICB2YXIgdXBkYXRlO1xuICB2YXIgcmVtb3ZlO1xuXG4gIGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuICAgIHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuICAgIHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuICAgIHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUgPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblxuICAgIHJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG4gICAgfTtcbiAgfVxuXG4gIHVwZGF0ZShvYmopO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmUoKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307IC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuICAvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cbiAgaWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuICB9XG5cbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdMaXN0KSAhPT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRvbVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5Eb21bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5Eb20uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18odHJ1ZSk7XG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiQGltcG9ydCB1cmwoaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1CbGFjaytIYW4rU2FucyZkaXNwbGF5PXN3YXApO1wiXSk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCIvKiBodHRwOi8vbWV5ZXJ3ZWIuY29tL2VyaWMvdG9vbHMvY3NzL3Jlc2V0L1xcbiAgIHYyLjAgfCAyMDExMDEyNlxcbiAgIExpY2Vuc2U6IG5vbmUgKHB1YmxpYyBkb21haW4pXFxuKi9cXG5odG1sLCBib2R5LCBkaXYsIHNwYW4sIGFwcGxldCwgb2JqZWN0LCBpZnJhbWUsXFxuaDEsIGgyLCBoMywgaDQsIGg1LCBoNiwgcCwgYmxvY2txdW90ZSwgcHJlLFxcbmEsIGFiYnIsIGFjcm9ueW0sIGFkZHJlc3MsIGJpZywgY2l0ZSwgY29kZSxcXG5kZWwsIGRmbiwgZW0sIGltZywgaW5zLCBrYmQsIHEsIHMsIHNhbXAsXFxuc21hbGwsIHN0cmlrZSwgc3Ryb25nLCBzdWIsIHN1cCwgdHQsIHZhcixcXG5iLCB1LCBpLCBjZW50ZXIsXFxuZGwsIGR0LCBkZCwgb2wsIHVsLCBsaSxcXG5maWVsZHNldCwgZm9ybSwgbGFiZWwsIGxlZ2VuZCxcXG50YWJsZSwgY2FwdGlvbiwgdGJvZHksIHRmb290LCB0aGVhZCwgdHIsIHRoLCB0ZCxcXG5hcnRpY2xlLCBhc2lkZSwgY2FudmFzLCBkZXRhaWxzLCBlbWJlZCxcXG5maWd1cmUsIGZpZ2NhcHRpb24sIGZvb3RlciwgaGVhZGVyLCBoZ3JvdXAsXFxubWVudSwgbmF2LCBvdXRwdXQsIHJ1YnksIHNlY3Rpb24sIHN1bW1hcnksXFxudGltZSwgbWFyaywgYXVkaW8sIHZpZGVvIHtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDA7XFxuICBib3JkZXI6IDA7XFxuICBmb250LXNpemU6IDEwMCU7XFxuICBmb250OiBpbmhlcml0O1xcbiAgdmVydGljYWwtYWxpZ246IGJhc2VsaW5lOyB9XFxuXFxuLyogSFRNTDUgZGlzcGxheS1yb2xlIHJlc2V0IGZvciBvbGRlciBicm93c2VycyAqL1xcbmFydGljbGUsIGFzaWRlLCBkZXRhaWxzLCBmaWdjYXB0aW9uLCBmaWd1cmUsXFxuZm9vdGVyLCBoZWFkZXIsIGhncm91cCwgbWVudSwgbmF2LCBzZWN0aW9uIHtcXG4gIGRpc3BsYXk6IGJsb2NrOyB9XFxuXFxuYm9keSB7XFxuICBsaW5lLWhlaWdodDogMTsgfVxcblxcbm9sLCB1bCB7XFxuICBsaXN0LXN0eWxlOiBub25lOyB9XFxuXFxuYmxvY2txdW90ZSwgcSB7XFxuICBxdW90ZXM6IG5vbmU7IH1cXG5cXG5ibG9ja3F1b3RlOmJlZm9yZSwgYmxvY2txdW90ZTphZnRlcixcXG5xOmJlZm9yZSwgcTphZnRlciB7XFxuICBjb250ZW50OiAnJztcXG4gIGNvbnRlbnQ6IG5vbmU7IH1cXG5cXG50YWJsZSB7XFxuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xcbiAgYm9yZGVyLXNwYWNpbmc6IDA7IH1cXG5cXG5ib2R5IHtcXG4gIGJhY2tncm91bmQtY29sb3I6IGJ1cmx5d29vZDtcXG4gIGZvbnQtZmFtaWx5OiAnQmxhY2sgSGFuIFNhbnMnLCBzYW5zLXNlcmlmOyB9XFxuXFxuLndyYXBwZXIge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDB2aDsgfVxcbiAgLndyYXBwZXIgLmhlYWRlciB7XFxuICAgIHBhZGRpbmc6IDEuNXJlbSAwOyB9XFxuICAgIC53cmFwcGVyIC5oZWFkZXIgLmxvZ28ge1xcbiAgICAgIGZvbnQtc2l6ZTogNHJlbTtcXG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAgICAgY29sb3I6ICM3YTVjMzM7IH1cXG5cXG4ubWFpbi1wYWdlIC5yb2xlLWJveCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTdkNmJmO1xcbiAgd2lkdGg6IDUwMHB4O1xcbiAgcGFkZGluZzogMnJlbSAwO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgbGluZS1oZWlnaHQ6IDEuNTsgfVxcbi5tYWluLXBhZ2UgLmJ0bi1ib3gge1xcbiAgbWFyZ2luLXRvcDogNXJlbTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgfVxcbi5tYWluLXBhZ2UgLnN0YXJ0LWJ0biB7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICB3aWR0aDogMzAwcHg7XFxuICBoZWlnaHQ6IDUwcHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYjg5NjY2O1xcbiAgY29sb3I6ICNmZmY7XFxuICBib3JkZXI6IG5vbmU7XFxuICBmb250LXNpemU6IDEuM3JlbTtcXG4gIG91dGxpbmU6IG5vbmU7IH1cXG4gIC5tYWluLXBhZ2UgLnN0YXJ0LWJ0bjphY3RpdmUsIC5tYWluLXBhZ2UgLnN0YXJ0LWJ0bjpmb2N1cyB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICM3YTVjMzM7IH1cXG4ubWFpbi1wYWdlIC5uYW1lLWJveCB7XFxuICBtYXJnaW4tdG9wOiAxcmVtO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgfVxcbi5tYWluLXBhZ2UgLnBsYXllci1uYW1lIHtcXG4gIGJvcmRlcjogMDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlN2Q2YmY7XFxuICBwYWRkaW5nOiAwLjhyZW0gMXJlbTtcXG4gIHdpZHRoOiA0MCU7XFxuICBvdXRsaW5lOiBub25lOyB9XFxuXFxuLmZvb3RlciB7XFxuICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIGJvdHRvbTogMTBweDtcXG4gIGxlZnQ6IDA7XFxuICByaWdodDogMDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjsgfVxcblxcbi5nYW1lLXBhZ2Uge1xcbiAgZGlzcGxheTogbm9uZTsgfVxcbiAgLmdhbWUtcGFnZSAuZ2FtZS1ib2FyZC1jb250YWluZXIge1xcbiAgICBkaXNwbGF5OiBmbGV4OyB9XFxuICAgIC5nYW1lLXBhZ2UgLmdhbWUtYm9hcmQtY29udGFpbmVyIC5nYW1lLWJvYXJkLW5hbWUge1xcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsgfVxcbiAgICAuZ2FtZS1wYWdlIC5nYW1lLWJvYXJkLWNvbnRhaW5lciAuYm9hcmQge1xcbiAgICAgIHdpZHRoOiA0MDBweDtcXG4gICAgICBoZWlnaHQ6IDQwMHB4O1xcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICM3YTVjMzM7XFxuICAgICAgbWFyZ2luOiAxMHB4OyB9XFxuICAgICAgLmdhbWUtcGFnZSAuZ2FtZS1ib2FyZC1jb250YWluZXIgLmJvYXJkIHRyLFxcbiAgICAgIC5nYW1lLXBhZ2UgLmdhbWUtYm9hcmQtY29udGFpbmVyIC5ib2FyZCB0ZCB7XFxuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZTdkNmJmOyB9XFxuICAgICAgLmdhbWUtcGFnZSAuZ2FtZS1ib2FyZC1jb250YWluZXIgLmJvYXJkIHRkIHtcXG4gICAgICAgIGZvbnQtc2l6ZTogMS41cmVtO1xcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICAgICAgbGluZS1oZWlnaHQ6IDc5cHg7XFxuICAgICAgICB3aWR0aDogMjAlOyB9XFxuICAgICAgICAuZ2FtZS1wYWdlIC5nYW1lLWJvYXJkLWNvbnRhaW5lciAuYm9hcmQgdGQuYWN0aXZlIHtcXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzRjMzMxNTsgfVxcbiAgLmdhbWUtcGFnZSAuZ2FtZS1oaXN0b3J5LWNvbnRhaW5lciB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNiODk2NjY7XFxuICAgIHBhZGRpbmc6IDEwcHg7XFxuICAgIG1hcmdpbi10b3A6IDEuNXJlbTsgfVxcbiAgICAuZ2FtZS1wYWdlIC5nYW1lLWhpc3RvcnktY29udGFpbmVyIGgzIHtcXG4gICAgICBtYXJnaW4tYm90dG9tOiAxcmVtOyB9XFxuICAgIC5nYW1lLXBhZ2UgLmdhbWUtaGlzdG9yeS1jb250YWluZXIgc3BhbiB7XFxuICAgICAgcGFkZGluZy1yaWdodDogMC41cmVtOyB9XFxuICAuZ2FtZS1wYWdlIC5idG4tYm94IHtcXG4gICAgbWFyZ2luLXRvcDogMXJlbTtcXG4gICAgbWFyZ2luLWJvdHRvbTogMnJlbTtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IH1cXG4gIC5nYW1lLXBhZ2UgLnN0YXJ0LWJ0biB7XFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgd2lkdGg6IDMwMHB4O1xcbiAgICBoZWlnaHQ6IDUwcHg7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNiODk2NjY7XFxuICAgIGNvbG9yOiAjZmZmO1xcbiAgICBib3JkZXI6IG5vbmU7XFxuICAgIGZvbnQtc2l6ZTogMS4zcmVtO1xcbiAgICBvdXRsaW5lOiBub25lOyB9XFxuICAgIC5nYW1lLXBhZ2UgLnN0YXJ0LWJ0bjphY3RpdmUsIC5nYW1lLXBhZ2UgLnN0YXJ0LWJ0bjpmb2N1cyB7XFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzdhNWMzMzsgfVxcblxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPXN0eWxlcy5jc3MubWFwICovXFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovL3NyYy9zY3NzL3Jlc2V0LnNjc3NcIixcIndlYnBhY2s6Ly9zcmMvc2Nzcy9zdHlsZXMuY3NzXCIsXCJ3ZWJwYWNrOi8vc3JjL3Njc3Mvc3R5bGVzLnNjc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7OztDQ0lDO0FEQ0Q7Ozs7Ozs7Ozs7Ozs7RUFhRSxTQUFTO0VBQ1QsVUFBVTtFQUNWLFNBQVM7RUFDVCxlQUFlO0VBQ2YsYUFBYTtFQUNiLHdCQUF3QixFQUFBOztBQUUxQixnREFBQTtBQUNBOztFQUVFLGNBQWMsRUFBQTs7QUFFaEI7RUFDRSxjQUFjLEVBQUE7O0FBRWhCO0VBQ0UsZ0JBQWdCLEVBQUE7O0FBRWxCO0VBQ0UsWUFBWSxFQUFBOztBQUVkOztFQUVFLFdBQVc7RUFDWCxhQUFhLEVBQUE7O0FBRWY7RUFDRSx5QkFBeUI7RUFDekIsaUJBQWlCLEVBQUE7O0FFM0NuQjtFQUNFLDJCQUEyQjtFQUMzQix5Q0FBeUMsRUFBQTs7QUFHM0M7RUFDRSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLHVCQUF1QjtFQUN2QixXQUFXO0VBQ1gsYUFBYSxFQUFBO0VBRWI7SUFDRSxpQkFBaUIsRUFBQTtJQUVqQjtNQUNFLGVBQWU7TUFDZixrQkFBa0I7TUFDbEIsY0FBYyxFQUFBOztBQU1sQjtFQUNFLHlCQUF5QjtFQUN6QixZQUFZO0VBQ1osZUFBZTtFQUNmLGtCQUFrQjtFQUNsQixnQkFBZ0IsRUFBQTtBQUdsQjtFQUNFLGdCQUFnQjtFQUNoQixhQUFhO0VBQ2IsdUJBQXVCLEVBQUE7QUFHekI7RUFDRSxlQUFlO0VBQ2YsWUFBWTtFQUNaLFlBQVk7RUFDWix5QkFBeUI7RUFDekIsV0FBVztFQUNYLFlBQVk7RUFDWixpQkFBaUI7RUFDakIsYUFBYSxFQUFBO0VBRWI7SUFFRSx5QkFBeUIsRUFBQTtBQUk3QjtFQUNFLGdCQUFnQjtFQUNoQixhQUFhO0VBQ2IsOEJBQThCLEVBQUE7QUFFaEM7RUFDRSxTQUFTO0VBQ1QseUJBQXlCO0VBQ3pCLG9CQUFvQjtFQUNwQixVQUFVO0VBQ1YsYUFBYSxFQUFBOztBQUlqQjtFQUNFLHVCQUF1QjtFQUN2QixlQUFlO0VBQ2YsWUFBVztFQUNYLE9BQU87RUFDUCxRQUFRO0VBQ1Isa0JBQWtCLEVBQUE7O0FBR3BCO0VBQ0UsYUFBYSxFQUFBO0VBQ2I7SUFDRSxhQUFhLEVBQUE7SUFFYjtNQUNFLGtCQUFrQixFQUFBO0lBR3BCO01BQ0UsWUFBWTtNQUNaLGFBQWE7TUFDYix5QkFBeUI7TUFDekIsWUFBWSxFQUFBO01BQ1o7O1FBRUUseUJBQXlCLEVBQUE7TUFHM0I7UUFDRSxpQkFBaUI7UUFDakIsa0JBQWtCO1FBQ2xCLGVBQWU7UUFDZixpQkFBaUI7UUFDakIsVUFBVSxFQUFBO1FBRVY7VUFDRSx5QkFBeUIsRUFBQTtFQVFqQztJQUNFLHlCQUF5QjtJQUN6QixhQUFhO0lBQ2Isa0JBQWtCLEVBQUE7SUFFbEI7TUFDRSxtQkFBa0IsRUFBQTtJQUdwQjtNQUNFLHFCQUFxQixFQUFBO0VBSXpCO0lBQ0UsZ0JBQWdCO0lBQ2hCLG1CQUFtQjtJQUNuQixhQUFhO0lBQ2IsdUJBQXVCLEVBQUE7RUFHekI7SUFDRSxlQUFlO0lBQ2YsWUFBWTtJQUNaLFlBQVk7SUFDWix5QkFBeUI7SUFDekIsV0FBVztJQUNYLFlBQVk7SUFDWixpQkFBaUI7SUFDakIsYUFBYSxFQUFBO0lBRWI7TUFFRSx5QkFBeUIsRUFBQTs7QURJL0IscUNBQXFDXCIsXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiaW1wb3J0IHsgZ2V0UmFuZG9tQXJiaXRyYXJ5IH0gZnJvbSAnLi91dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXllcntcbiAgY29uc3RydWN0b3IoY29udGFpbmVyRWwsIHtyb3cgPSA1LCBjZWxsID0gNSwgbmFtZSA9ICcnfSkge1xuICAgIHRoaXMuYm9hcmQgPSB0aGlzLmNyZWF0ZUJvYXJkKHJvdywgY2VsbCk7XG4gICAgdGhpcy5zY29yZSA9IDA7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcblxuICAgIHRoaXMucmVzdWx0ID0ge1xuICAgICAgcm93OiBuZXcgQXJyYXkoNSkuZmlsbCgwKSxcbiAgICAgIGNlbGw6IG5ldyBBcnJheSg1KS5maWxsKDApLFxuICAgICAgbGVmdDogMCxcbiAgICAgIHJpZ2h0OiAwXG4gICAgfVxuXG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbnRhaW5lckVsKSA9PT0gbnVsbCkgdGhyb3cgRXJyb3IoYCR7Y29udGFpbmVyRWx966W8IOywvuydhCDsiJgg7JeG7Iq164uI64ukYCk7XG5cbiAgICB0aGlzLmNvbnRhaW5lckVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29udGFpbmVyRWwpO1xuICB9XG5cbiAgY3JlYXRlQm9hcmQocm93LCBjZWxsKSB7XG4gICAgY29uc3QgbnVtYmVycyA9IFtdO1xuICAgIHRoaXMuYm9hcmQgPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IHJvdyAqIGNlbGw7IGkrKykge1xuICAgICAgbnVtYmVycy5wdXNoKGkpO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcm93OyBpKyspIHtcbiAgICAgIGNvbnN0IGJvYXJkX3JvdyA9IFtdO1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjZWxsOyBqKyspIHtcbiAgICAgICAgY29uc3QgaWR4ID0gZ2V0UmFuZG9tQXJiaXRyYXJ5KDAsIG51bWJlcnMubGVuZ3RoIC0gMSk7XG4gICAgICAgIGJvYXJkX3Jvdy5wdXNoKG51bWJlcnNbaWR4XSk7XG4gICAgICAgIG51bWJlcnMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICB9XG4gICAgICB0aGlzLmJvYXJkLnB1c2goYm9hcmRfcm93KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5ib2FyZDtcbiAgfVxuICBnZXRSZXN1bHQodGFyZ2V0KSB7XG4gICAgY29uc3QgeyByZXN1bHQsIGJvYXJkIH0gPSB0aGlzO1xuXG4gICAgZm9yIChsZXQgaT0wOyBpPGJvYXJkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJvYXJkW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmIChib2FyZFtpXVtqXSA9PT0gcGFyc2VJbnQodGFyZ2V0LnRleHRDb250ZW50LCAxMCkpIHtcbiAgICAgICAgICByZXN1bHQucm93W2ldKys7XG4gICAgICAgICAgcmVzdWx0LmNlbGxbal0rKztcblxuICAgICAgICAgIGlmIChpID09PSBqKSB7XG4gICAgICAgICAgICByZXN1bHQubGVmdCsrO1xuICAgICAgICAgICAgaWYgKGkgKyBqID09PSA0KSB7XG4gICAgICAgICAgICAgIHJlc3VsdC5yaWdodCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoaSArIGogPT09IDQpIHtcbiAgICAgICAgICAgIHJlc3VsdC5yaWdodCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZ2V0U2NvcmVTdHJpbmcoKTtcbiAgfVxuICBnZXRTY29yZVN0cmluZygpIHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gdGhpcztcbiAgICBjb25zdCByZXN1bHRDZWxsID0gcmVzdWx0LmNlbGwuZmlsdGVyKGl0ZW0gPT4gaXRlbSA9PT0gNSk7XG4gICAgY29uc3QgcmVzdWx0Um93ID0gcmVzdWx0LnJvdy5maWx0ZXIoaXRlbSA9PiBpdGVtID09PSA1KTtcblxuICAgIHRoaXMuc2NvcmUgPSByZXN1bHRDZWxsLmxlbmd0aCArIHJlc3VsdFJvdy5sZW5ndGg7XG5cbiAgICBpZiAocmVzdWx0LmxlZnQgPT09IDUpIHtcbiAgICAgIHRoaXMuc2NvcmUrKztcbiAgICB9XG5cbiAgICBpZiAocmVzdWx0LnJpZ2h0ID09PSA1KSB7XG4gICAgICB0aGlzLnNjb3JlKys7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc2NvcmU7XG4gIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb21BcmJpdHJhcnkobWluLCBtYXgpIHtcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEJpbmdvIHtcbiAgY29uc3RydWN0b3IoW21lLCB5b3VdKSB7XG4gICAgdGhpcy5oaXN0b3J5ID0gW107XG4gICAgdGhpcy5jdXJyZW50ID0gbWU7XG4gICAgdGhpcy5wbGF5ZXJzID0gW21lLCB5b3VdXG4gIH1cblxuICBhY3RpdmVIaXN0b3J5KHRhcmdldCwgaGlzdG9yeUJveEVsKSB7XG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhpc3RvcnlCb3hFbCkgPT09IG51bGwpIHRocm93IEVycm9yKCk7XG4gICAgdGhpcy5oaXN0b3J5Qm94RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChoaXN0b3J5Qm94RWwpO1xuXG4gICAgdGhpcy5oaXN0b3J5LnB1c2godGFyZ2V0LnRleHRDb250ZW50KTtcbiAgICB0aGlzLmhpc3RvcnlCb3hFbC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGA8c3Bhbj4ke3RhcmdldC50ZXh0Q29udGVudH08L3NwYW4+YClcblxuICAgIGlmICh0aGlzLmN1cnJlbnQgPT09IHRoaXMucGxheWVyc1swXSkge1xuICAgICAgdGhpcy5jdXJyZW50ID0gIHRoaXMucGxheWVyc1sxXVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLnBsYXllcnNbMF1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5oaXN0b3J5O1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDcmVhdGVCb2FyZFVJe1xuICBjb25zdHJ1Y3Rvcih7YmluZ28sIGNhbGxiYWNrLCBwbGF5ZXJ9KSB7XG4gICAgaWYgKCEoY2FsbGJhY2sgaW5zdGFuY2VvZiBGdW5jdGlvbikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcign7L2c67Cx7ZWo7IiY66W8IOyemOuquyDsoITri6wg67Cb7JWY7Iq164uI64ukJyk7XG4gICAgfVxuXG4gICAgLy8g67O065Oc7YyQIFVJXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwbGF5ZXIuYm9hcmQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcGxheWVyLmJvYXJkWzBdLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGNvbnN0IHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgICAgdGQuaW5uZXJUZXh0ID0gcGxheWVyLmJvYXJkW2ldW2pdO1xuICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZCk7XG4gICAgICB9XG4gICAgICBwbGF5ZXIuY29udGFpbmVyRWwucXVlcnlTZWxlY3RvcignLmJvYXJkJykuYXBwZW5kQ2hpbGQodHIpO1xuICAgIH1cblxuICAgIC8vIOygkOyImO2MkCwg7J2066aEIFVJXG4gICAgcGxheWVyLmNvbnRhaW5lckVsLnF1ZXJ5U2VsZWN0b3IoJy5zY29yZS10ZXh0JykuaW5uZXJUZXh0ID0gcGxheWVyLnNjb3JlO1xuICAgIHBsYXllci5jb250YWluZXJFbC5xdWVyeVNlbGVjdG9yKCcuZ2FtZS1ib2FyZC1uYW1lJykuaW5uZXJUZXh0ID0gcGxheWVyLm5hbWU7XG5cbiAgICBwbGF5ZXIuY29udGFpbmVyRWwucXVlcnlTZWxlY3RvcignLmJvYXJkJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgaWYgKGJpbmdvLmN1cnJlbnQgIT09IHBsYXllci5uYW1lKSB7XG4gICAgICAgIGFsZXJ0KCftmITsnqwg7LCo66GA6rCAIOyVhOuLmeuLiOuLpCcpXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICBjb25zdCBib2FyZHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdib2FyZCcpO1xuICAgICAgY29uc3Qgb3RoZXJCb2FyZCA9IFtdLnJlZHVjZS5jYWxsKGJvYXJkcywgKGFjYywgY3VyKSA9PiBjdXIgIT09IHBsYXllci5jb250YWluZXJFbC5xdWVyeVNlbGVjdG9yKCcuYm9hcmQnKSA/IGN1ciA6IGFjYyk7XG4gICAgICB0aGlzLmFkZENsYXNzT2ZPdGhlckJvYXJkKG90aGVyQm9hcmQsIGUudGFyZ2V0KTtcblxuICAgICAgY2FsbGJhY2suY2FsbChudWxsLCBlLnRhcmdldCk7XG4gICAgfSk7XG4gIH1cblxuICBhZGRDbGFzc09mT3RoZXJCb2FyZChib2FyZEVsLCB0YXJnZXQpe1xuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYm9hcmRFbC5jaGlsZHJlbiwgKHRyRWwpID0+IHtcbiAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwodHJFbC5jaGlsZHJlbiwgKHRkRWwpID0+IHtcbiAgICAgICAgaWYgKHRkRWwudGV4dENvbnRlbnQgPT09IHRhcmdldC50ZXh0Q29udGVudCkge1xuICAgICAgICAgIHRkRWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuXG4iLCJpbXBvcnQgUGxheWVyIGZyb20gXCIuL3BsYXllclwiO1xuaW1wb3J0IEJpbmdvIGZyb20gXCIuL2JpbmdvXCI7XG5pbXBvcnQgQ3JlYXRlQm9hcmRVSSBmcm9tIFwiLi9jcmVhdGVCb2FyZFVJXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwcHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgY29uc3QgbWVQbGF5ZXJOYW1lRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWUtbmFtZScpO1xuICAgIGNvbnN0IHlvdVBsYXllck5hbWVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd5b3UtbmFtZScpO1xuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0LWJ1dHRvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IG1lID0gbmV3IFBsYXllcignbWUnLCB7cm93OiA1LCBjZWxsOiA1LCBuYW1lOiBtZVBsYXllck5hbWVFbC52YWx1ZX0pO1xuICAgICAgY29uc3QgeW91ID0gbmV3IFBsYXllcigneW91Jywge3JvdzogNSwgY2VsbDogNSwgbmFtZTogeW91UGxheWVyTmFtZUVsLnZhbHVlfSk7XG5cbiAgICAgIHRoaXMuc3RhcnRHYW1lKG1lLCB5b3UpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pXG4gIH1cblxuICBzdGFydEdhbWUobWUsIHlvdSl7XG4gICAgY29uc3QgYmluZ28gPSBuZXcgQmluZ28oW21lLm5hbWUsIHlvdS5uYW1lXSk7XG4gICAgY29uc3QgeyBoaXN0b3J5IH0gPSBiaW5nbztcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBjYWxsYmFjayA9ICh0YXJnZXQpID0+IHtcbiAgICAgICAgaWYgKGhpc3RvcnkuaW5jbHVkZXModGFyZ2V0LnRleHRDb250ZW50KSkgcmV0dXJuO1xuXG4gICAgICAgIGJpbmdvLmFjdGl2ZUhpc3RvcnkodGFyZ2V0LCAnZ2FtZS1oaXN0b3J5LWJveCcpO1xuXG4gICAgICAgIGNvbnN0IG1lUmVzdWx0ID0gbWUuZ2V0UmVzdWx0KHRhcmdldCk7XG4gICAgICAgIGNvbnN0IHlvdVJlc3VsdCA9IHlvdS5nZXRSZXN1bHQodGFyZ2V0KTtcbiAgICAgICAgbWUuY29udGFpbmVyRWwucXVlcnlTZWxlY3RvcignLnNjb3JlLXRleHQnKS5pbm5lclRleHQgPSBtZVJlc3VsdDtcbiAgICAgICAgeW91LmNvbnRhaW5lckVsLnF1ZXJ5U2VsZWN0b3IoJy5zY29yZS10ZXh0JykuaW5uZXJUZXh0ID0geW91UmVzdWx0O1xuXG4gICAgICAgIGlmIChtZVJlc3VsdCA9PT0gNSB8fCB5b3VSZXN1bHQgPT09IDUpIHtcbiAgICAgICAgICBhbGVydCgn7J206rK87Iq164uI64ukJyk7XG4gICAgICAgICAgdGhpcy5yZXNldEdhbWUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBuZXcgQ3JlYXRlQm9hcmRVSSh7IGJpbmdvLCBjYWxsYmFjaywgcGxheWVyOiBtZSB9KTtcbiAgICAgIG5ldyBDcmVhdGVCb2FyZFVJKHsgYmluZ28sIGNhbGxiYWNrLCBwbGF5ZXI6IHlvdX0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgIH1cblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluLXBhZ2UnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYW1lLXBhZ2UnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgfVxuXG4gIHJlc2V0R2FtZSgpe1xuICAgIFtdLm1hcC5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5ib2FyZCcpLCBwcmVFbGUgPT4ge1xuICAgICAgY29uc3QgY2xvbmVCb2FyZCA9IHByZUVsZS5jbG9uZU5vZGUoZmFsc2UpO1xuICAgICAgcHJlRWxlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGNsb25lQm9hcmQsIHByZUVsZSlcbiAgICB9KTtcblxuICAgIFtdLm1hcC5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wbGF5ZXItbmFtZScpLCBpdGVtID0+IGl0ZW0udmFsdWUgPSAnJyk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbWUtaGlzdG9yeS1ib3gnKS5pbm5lckhUTUwgPSAnJztcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluLXBhZ2UnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FtZS1wYWdlJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgfVxufVxuXG5cblxuXG4iLCJpbXBvcnQgQXBwIGZyb20gJy4vanMvYXBwJztcbmltcG9ydCAnLi9zY3NzL3N0eWxlcy5jc3MnO1xuXG5uZXcgQXBwKCk7XG4iXSwic291cmNlUm9vdCI6IiJ9